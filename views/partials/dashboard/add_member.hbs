<div id="addMember" class="modal" data-active="false">
    <div class="container">

        <div class="content">
            <h2>Add people to this choir</h2>

            <div class="modal-tabs">
                <button class="tab" data-selected="true" data-target="add-individual">Add Individual</button>
                <button class="tab" data-target="add-many">Add Many</button>
            </div>

            <form method="POST" action="/choir/add-member" id="add-individual">

                <input type="text" hidden value="{{choirInfo.choirId}}" name="choirId" />

                <label for="name" class="required">Email Address</label>
                <input id="name" type="email" placeholder="alex@choirless.com" name="email" required/>

                <div class="side-by-side">
                    <button type="button" class="cta-button red cancel">Cancel</button>
                    <button type="submit" class="cta-button light-blue">Send Invitation</button>
                </div>

            </form>

            <form method="POST" action="/choir/create-open-invitation" id="add-many" data-active="false">
                <input type="text" hidden value="{{choirInfo.choirId}}" name="choirId" />

                <p>This will create an invitation that anybody will be able to use to join this choir for 24 hours.</p>
                <p>This option is best used when you already have a real-world choir or group set up, and you want to be able to on-board them as quickly as possible without sending a bunch of individual emails.</p>
                <p>If you click "Create Link", a URL will be generated that you can send to your choir members however you choose.</p>

                <pre>https://choirless.com/choir/join/CHOIRID/INVITEID</pre>

                <div class="side-by-side">
                    <button type="button" class="cta-button red cancel">Cancel</button>
                    <button type="submit" class="cta-button light-blue">Create Link</button>
                </div>

            </form>

        </div>
    </div>
</div>

<script>

    (function(){

        'use strict';

        var modal = document.querySelector('#addMember');
        var tabs = modal.querySelectorAll('.modal-tabs button.tab');
        var forms = modal.querySelectorAll('form');
        var openInviteForm = modal.querySelector('#add-many');

        Array.from(tabs).forEach(function(tab){

            tab.addEventListener('click', function(){

                Array.from(tabs).forEach(function(tab){
                    tab.dataset.selected = "false";
                    document.querySelector('#' + tab.dataset.target).dataset.active = "false";

                });

                this.dataset.selected = "true";
                document.querySelector('#' + this.dataset.target).dataset.active = "true";

            }, false);

        });

        Array.from(forms).forEach(function(form){

            var cancelBtn = form.querySelector('.cancel');

            cancelBtn.addEventListener('click', function(e){

                e.preventDefault();
                e.stopImmediatePropagation();

                Array.from(forms).forEach(function(form){
                    form.reset();
                });

                document.querySelector('#addMember').dataset.active="false";

            }, false);

        });




    }());

</script>